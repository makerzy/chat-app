  <ion-menu side="start" contentId="menuContent">
    <ion-header>
      <ion-toolbar translucent>
        <ion-title>Menu</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-item>
          <ion-icon slot="start" name="search"></ion-icon>
          <ion-label (click)="searchUsers()">Search User</ion-label>
        </ion-item>
        <ion-item (click)="handleSelect()">
          <ion-icon *ngIf="!select" name="checkmark" slot="start"></ion-icon>
          <ion-label *ngIf="!select">Select Message</ion-label>
          <ion-icon *ngIf="select" name="close" slot="start"></ion-icon>
          <ion-label *ngIf="select">Deselect Message</ion-label>
        </ion-item>
        <ion-item (click)="closeMenu()" routerLink="/chat/favorites">
          <ion-icon slot="start" name="star"></ion-icon>
          <ion-label>Favorites</ion-label>
          <ion-badge>{{currentUser.savedMessages.length}}</ion-badge>
        </ion-item>
        <ion-item (click)="sendPrivate()">
          <ion-icon *ngIf="privateMsg" slot="start" name="eye-off"></ion-icon>
          <ion-icon *ngIf="!privateMsg" slot="start" name="eye"></ion-icon>
          <ion-label *ngIf="privateMsg"> Private Message</ion-label>
          <ion-label *ngIf="!privateMsg"> Open Message</ion-label>
        </ion-item>
        <ion-item (click)="closeMenu()" routerLink="/chat/save">
          <ion-icon name="save" slot="start"></ion-icon>
          <ion-label>Save Message</ion-label>
        </ion-item>
      </ion-list>

    </ion-content>
  </ion-menu>
  <ion-header>
    <ion-toolbar *ngIf="selectedMessages && selectedMessages.length>0">
      <app-message-actions [users]='users' [user]='currentUser' (sendReplyMessage)='retrieveReplyMessages($event)'
        (sendMessage)="retrieveMessageLength($event)" [conversationId]='conversation.id' [messages]='selectedMessages'>
      </app-message-actions>
    </ion-toolbar>
    <ion-toolbar *ngIf=" selectedMessages.length===0">
      <ion-buttons slot="primary">
        <ion-menu-button auto-hide="false"></ion-menu-button>
      </ion-buttons>
      <ion-buttons slot="start">
        <ion-button>
          <!-- <ion-icon slot="start" name="search"></ion-icon>
          <ion-label>Find user</ion-label> -->
          <ion-back-button defaultHref="home" [text]="'Home'">
          </ion-back-button>
        </ion-button>
      </ion-buttons>

      <ion-title *ngIf="reciever">
        {{reciever.name}}
      </ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content [scrollEvents]="true">
    <div *ngIf="conversation">

      <div class="container">
        <div class="messages">
          <app-message [conversationId]="conversation.id" [replyMessage]='replyMessage' [select]='select'
            (sendSelectedMessages)="retrieveSelectedMessages($event)">
          </app-message>
        </div>
        <app-message-input [_message]="_message" (sendMessageString)="retrieveMessageString($event)">
        </app-message-input>
      </div>
    </div>
  </ion-content>

  <!-- <ion-tabs>
    <ion-tab-bar slot="bottom">
      <ion-tab-button tab="favorites">
        <ion-icon name="star"></ion-icon>
        <ion-badge>{{currentUser.savedMessages.length}}</ion-badge>
        <ion-label>Favorites</ion-label>
      </ion-tab-button>

      <ion-tab-button tab="save">
        <ion-icon name="save"></ion-icon>
        <ion-label>Save Msg</ion-label>

      </ion-tab-button>

      <ion-tab-button (click)="privateMsg=!privateMsg">
        <ion-icon *ngIf="privateMsg" name="eye-off"></ion-icon>
        <ion-icon *ngIf="!privateMsg" name="eye"></ion-icon>
        <ion-label *ngIf="privateMsg"> Private Message</ion-label>
        <ion-label *ngIf="!privateMsg"> Open Message</ion-label>
      </ion-tab-button>

      <ion-tab-button>
        <ion-icon name="checkmark"></ion-icon>
        <ion-label>Select Message</ion-label>
      </ion-tab-button>
    </ion-tab-bar>
  </ion-tabs> -->